[{"path":"https://infectious-diseases-data-observatory.github.io/worlddatr/articles/worlddatr.html","id":"installing-worlddatr","dir":"Articles","previous_headings":"","what":"Installing worlddatr","title":"worlddatr","text":"can install worlddatr package GitHub, can find code required.","code":""},{"path":"https://infectious-diseases-data-observatory.github.io/worlddatr/articles/worlddatr.html","id":"datasets","dir":"Articles","previous_headings":"","what":"Datasets","title":"worlddatr","text":"two datasets package, world_income, row per country/territory provides country ISO codes, name income group. 250 rows 7 columns. alpha_3_code, alpha_2_code numeric refer ISO standardised country codes, country economy list names country ISO World Bank datasets respectively, income_group provides income infomation entity. redcap_number also included classification number IDDO REDCap databases, alphabetical, English list countries, note standardised check data matches list using redcap_number. second dataset merges previous world_income ggplot2 map_data() function, cleaning steps applied latter, resulting 99,338 row, 13 column dataset , addition, contains longitude latitude borders countries territories desire plot. region, subregion, group order used identify country borders. datasets also stored csv files GitHub use.","code":"head(world_income) #> # A tibble: 6 × 7 #>   alpha_3_code alpha_2_code numeric country   economy income_group redcap_number #>   <chr>        <chr>          <dbl> <chr>     <chr>   <fct>                <dbl> #> 1 AFG          AF                 4 Afghanis… Afghan… Low income               1 #> 2 ALB          AL                 8 Albania   Albania Upper middl…             3 #> 3 DZA          DZ                12 Algeria   Algeria Upper middl…             4 #> 4 ASM          AS                16 American… Americ… High income              5 #> 5 AND          AD                20 Andorra   Andorra High income              6 #> 6 AGO          AO                24 Angola    Angola  Lower middl…             7 head(world_map) #>   alpha_3_code alpha_2_code numeric      long      lat group order region #> 1          ABW           AW     533 -69.89912 12.45200     1     1  Aruba #> 2          ABW           AW     533 -69.89571 12.42300     1     2  Aruba #> 3          ABW           AW     533 -69.94219 12.43853     1     3  Aruba #> 4          ABW           AW     533 -70.00415 12.50049     1     4  Aruba #> 5          ABW           AW     533 -70.06612 12.54697     1     5  Aruba #> 6          ABW           AW     533 -70.05088 12.59707     1     6  Aruba #>   subregion country economy income_group redcap_number centroid_long #> 1      <NA>   Aruba   Aruba  High income            13     -69.97564 #> 2      <NA>   Aruba   Aruba  High income            13     -69.97564 #> 3      <NA>   Aruba   Aruba  High income            13     -69.97564 #> 4      <NA>   Aruba   Aruba  High income            13     -69.97564 #> 5      <NA>   Aruba   Aruba  High income            13     -69.97564 #> 6      <NA>   Aruba   Aruba  High income            13     -69.97564 #>   centroid_lat #> 1     12.51563 #> 2     12.51563 #> 3     12.51563 #> 4     12.51563 #> 5     12.51563 #> 6     12.51563"},{"path":"https://infectious-diseases-data-observatory.github.io/worlddatr/articles/worlddatr.html","id":"functions","dir":"Articles","previous_headings":"","what":"Functions","title":"worlddatr","text":"well data, introduce functions can assist making maps, regular users beginners alike can utilise tool. ’ll show create_participant_map() allows user make choropleth number participants per country dataset, also create_studies_map() similar default legend refers studies opposed particiapnts, rest parameters work way. dataset need include country participant study (entity) , 3 digit ISO code format. function group data country summarise data ggplot using geom_polygon() function. data 3 digit ISO code, left_join() dataset world_income key country code name , ’ll alpha_3_code data use country_col .","code":""},{"path":"https://infectious-diseases-data-observatory.github.io/worlddatr/articles/worlddatr.html","id":"create-synthetic-data-for-example","dir":"Articles","previous_headings":"Functions","what":"Create Synthetic Data for Example","title":"worlddatr","text":"","code":"set.seed(123) # for reproducibility  countries <- sample(world_income$alpha_3_code, 100, replace = FALSE)  probabilities <- runif(length(countries)) probabilities <- probabilities / sum(probabilities)  country_data <- data.frame(COUNTRY = sample(countries, 10000, replace = TRUE, prob = probabilities))"},{"path":"https://infectious-diseases-data-observatory.github.io/worlddatr/articles/worlddatr.html","id":"using-the-functions","dir":"Articles","previous_headings":"Functions","what":"Using the Functions","title":"worlddatr","text":"Now can take data, country_data, indicate name column three digit ISO country code exists (country_col) run command.  visualises example data, along legend total number, n, participants. Although, perhaps want n displayed ’ll note Antarctica present, using extra parameters can change .  title subtitle can added plot provide information graphic, legend title can changed, removed leaving option blank.  Blue colour? problem, customise colour countries, borders, text background easily.  can change scale breaks legend using scale_breaks log transform scale using log_scale.   intend solution encourage use code GitHub develop graphs specific needs, hopes provide inspiration, without spending hours see works. suggestions, issues want contribute package contact us see GitHub page.","code":"create_participant_map(data        = country_data,                        country_col = \"COUNTRY\") create_participant_map(data        = country_data,                        country_col = \"COUNTRY\",                        include_n   = FALSE,                        include_ATA = TRUE) create_participant_map(data        = country_data,                        country_col = \"COUNTRY\",                        title       = \"Number of Participants in Studies across Countries\",                        subtitle    = \"Data from studies registered between 2000 - 2024\",                        legend      = \"Some Legend\") create_participant_map(data        = country_data,                        country_col = \"COUNTRY\",                        colour_high = \"#FF3C38\",                        colour_low  = \"#FFCFCF\",                        colour_default = \"#F0DFEE\",                        colour_borders = \"#20A39E\",                        colour_background = \"#DAEDBD\",                        colour_text = \"purple\") create_participant_map(data        = country_data,                        country_col = \"COUNTRY\",                        scale_breaks = c(10, 50, 100, 180, 200)) create_participant_map(data        = country_data,                        country_col = \"COUNTRY\",                        log_scale   = TRUE,                        legend      = \"Log Scale of Participants\")"},{"path":"https://infectious-diseases-data-observatory.github.io/worlddatr/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Rhys Peploe. Author, maintainer.","code":""},{"path":"https://infectious-diseases-data-observatory.github.io/worlddatr/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"R. Peploe (2024), 'worlddatr', Infectious Disease Data Observatory, University Oxford. Available: https://github.com/Infectious-Diseases-Data-Observatory/worlddatr","code":"@Misc{,   title = {worldatr},   author = {Rhys Peploe},   institution = {Infectious Disease Data Observatory (IDDO), University of Oxford, Oxford, UK},   year = {2024},   url = {https://github.com/Infectious-Diseases-Data-Observatory/worlddatr},   note = {Package Version 1.3.1}, }"},{"path":"https://infectious-diseases-data-observatory.github.io/worlddatr/index.html","id":"worlddatr","dir":"","previous_headings":"","what":"A Package For Global Choropleth Maps","title":"A Package For Global Choropleth Maps","text":"Country Territory data including ISO codes, World Bank income groups, longitude latitude. can used plot choropleth maps spatial statistical analysis. Creating maps showcase global distribution studies participants powerful way visualise data, however, extracting necessary information data cleaning can often time-consuming burdensome. datasets use 3 digit ISO codes, others use 2 digit just name country. Country name often problematic standardised, instance, North Korea can recorded N. Korea Democratic People’s Republic Korea, likewise Spain España. Accents special characters machine readable also prevent smooth merging data. data sources may group territories, Jersey & Guernsey represented simply ‘Channel Islands’. Key features worlddatr include: Pre-processed Datasets: Access pre-cleaned datasets ready merge data, reducing time spent data preparation. One-command Utilty: Functions allow produce maps single command, still providing control customisation options colours, titles, legends. Open Source Community-driven: open-source, worlddatr invites users build upon code, tailor visualisations specific needs, contribute improvements back IDDO, enhancing tool entire research community. using worlddatr, researchers can efficiently visualise analyse global data trends, focusing research less data manipulation.","code":""},{"path":"https://infectious-diseases-data-observatory.github.io/worlddatr/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"A Package For Global Choropleth Maps","text":"can install worlddatr package GitHub : recommend updating install new version package available. best remove package reinstall current version:","code":"# install.packages(\"devtools\") #if you have not previously installed 'devtools' on your machine devtools::install_github(\"Infectious-Diseases-Data-Observatory/worlddatr\", dependencies = TRUE, build_vignettes = TRUE) library(worlddatr) detach(\"package:worlddatr\", unload = TRUE)  devtools::install_github(\"Infectious-Diseases-Data-Observatory/worlddatr\", dependencies = TRUE, build_vignettes = TRUE) library(worlddatr)"},{"path":"https://infectious-diseases-data-observatory.github.io/worlddatr/index.html","id":"using-world-data","dir":"","previous_headings":"","what":"Using World Data","title":"A Package For Global Choropleth Maps","text":"two datasets worlddatr package: world_income [250 rows x 7 columns] One row per country territory, country/territory name, ISO code (ISO Online Browsing Platform), economy name income group (World Bank) world_map [99,338 rows x 13 columns] Contains information world_income joined map_data(\"world\") ggplot2 coordinate information perimeter region world. Combined allows income data mapped. vignette demonstrating package can found .","code":"head(world_income)  head(world_map)"},{"path":"https://infectious-diseases-data-observatory.github.io/worlddatr/index.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"A Package For Global Choropleth Maps","text":"cite worlddatr, see CITATION Data comes following sources: World Bank (https://datahelpdesk.worldbank.org/knowledgebase/articles/906519-world-bank-country--lending-groups) ISO (https://www.iso.org/obp/ui/#search) IDDO REDCap world-countries-centroids (https://github.com/gavinr/world-countries-centroids) Thanks owners contributors sources making accessible reuse.","code":""},{"path":"https://infectious-diseases-data-observatory.github.io/worlddatr/index.html","id":"issues","dir":"","previous_headings":"","what":"Issues","title":"A Package For Global Choropleth Maps","text":"Improvements code constantly made, notice errors, bugs, want suggest improvements ideas better functionality, please describe Issues.","code":""},{"path":"https://infectious-diseases-data-observatory.github.io/worlddatr/index.html","id":"contact","dir":"","previous_headings":"","what":"Contact","title":"A Package For Global Choropleth Maps","text":"Please contact Rhys Peploe (rhys.peploe@iddo.org rhyspeploe1998@gmail.com) like know .","code":""},{"path":"https://infectious-diseases-data-observatory.github.io/worlddatr/reference/create_participant_map.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a cloropleth map of the number of participants in a dataset — create_participant_map","title":"Create a cloropleth map of the number of participants in a dataset — create_participant_map","text":"Create cloropleth map number participants dataset","code":""},{"path":"https://infectious-diseases-data-observatory.github.io/worlddatr/reference/create_participant_map.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a cloropleth map of the number of participants in a dataset — create_participant_map","text":"","code":"create_participant_map(   data,   country_col,   include_ATA = FALSE,   include_n = TRUE,   title = \"\",   subtitle = \"\",   legend = \"Number of Participants\",   colour_high = \"#14B1E7\",   colour_low = \"#CCECF9\",   colour_default = \"#FDF3F4\",   colour_borders = \"black\",   colour_background = \"#FFFFFF\",   colour_text = \"black\",   scale_breaks = pretty_breaks(),   log_scale = FALSE )"},{"path":"https://infectious-diseases-data-observatory.github.io/worlddatr/reference/create_participant_map.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a cloropleth map of the number of participants in a dataset — create_participant_map","text":"data Data frame includes column 3 letter ISO country codes plotted map. Demographics (DM) domain SDTM IDDO-SDTM example. country_col Character. name column containing 3 letter ISO country codes. include_ATA Boolean. Antarctica included map? Default FALSE. include_n Boolean. n = X X number participants, included map. Default TRUE. title Character. Title choropleth map. subtitle Character. Subtitle choropleth map. legend Character. Legend title choropleth map. colour_high Colour high end scale, either using name base colour HEX code, .e. \"red\" \"#F9250C. colour country highest value. Default IDDO-branded blue \"#14B1E7\". colour_low Colour low end scale, either using name base colour HEX code, .e. \"red\" \"#F9250C. colour country lowest value. Default IDDO branded blue 30% tint, \"#CCECF9\". colour_default Colour countries without participant data, either using name base colour HEX code, .e. \"red\" \"#F9250C. Default IDDO branded red 5% tint, \"#FDF3F4\". colour_borders Colour country borders, either using name base colour HEX code, .e. \"red\" \"#F9250C. Default \"black\". colour_background Colour plot background, either using name base colour HEX code, .e. \"red\" \"#F9250C\". Default \"#FFFFFF\" (white). colour_text Colour legend title, text 'n = ' (include_n == TRUE), either using name base colour HEX code, .e. \"red\" \"#F9250C\". Default black. scale_breaks Numeric list. Specify custom scale breaks legend, .e. c(100, 500, 1000, 2000). Default pretty_breaks scales package. log_scale Boolean. number participants transformed log scale distribution values uneven. Default FALSE.","code":""},{"path":"https://infectious-diseases-data-observatory.github.io/worlddatr/reference/create_participant_map.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a cloropleth map of the number of participants in a dataset — create_participant_map","text":"cloropleth map displaying number participants country","code":""},{"path":"https://infectious-diseases-data-observatory.github.io/worlddatr/reference/create_participant_map.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Create a cloropleth map of the number of participants in a dataset — create_participant_map","text":"Rhys Peploe","code":""},{"path":"https://infectious-diseases-data-observatory.github.io/worlddatr/reference/create_participant_map.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a cloropleth map of the number of participants in a dataset — create_participant_map","text":"","code":"library(worlddatr) set.seed(123) # for reproducibility  countries <- sample(world_income$alpha_3_code, 100, replace = FALSE)  probabilities <- runif(length(countries)) probabilities <- probabilities / sum(probabilities)  country_data <- data.frame(COUNTRY = sample(countries, 10000, replace = TRUE, prob = probabilities))  create_participant_map(data        = country_data,                        country_col = \"COUNTRY\"                        )   create_participant_map(data        = country_data,                        country_col = \"COUNTRY\",                        include_ATA = FALSE,                        include_n   = TRUE,                        title       = \"Number of Participants in Studies across Countries\",                        subtitle    = \"Data from studies registered between 2000 - 2024\",                        colour_high = \"#14B1E7\",                        colour_low  = \"#CCECF9\",                        colour_default = \"#FDF3F4\",                        colour_borders = \"black\",                        colour_background = \"#FFFFFF\",                        colour_text = \"black\",                        scale_breaks = c(25, 50, 100, 150, 175, 200),                        log_scale = FALSE                        )"},{"path":"https://infectious-diseases-data-observatory.github.io/worlddatr/reference/create_studies_map.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a cloropleth map of the number of trials in a dataset — create_studies_map","title":"Create a cloropleth map of the number of trials in a dataset — create_studies_map","text":"Create cloropleth map number trials dataset","code":""},{"path":"https://infectious-diseases-data-observatory.github.io/worlddatr/reference/create_studies_map.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a cloropleth map of the number of trials in a dataset — create_studies_map","text":"","code":"create_studies_map(   data,   country_col,   include_ATA = FALSE,   include_n = TRUE,   title = \"\",   subtitle = \"\",   legend = \"Number of Studies\",   colour_high = \"#14B1E7\",   colour_low = \"#CCECF9\",   colour_default = \"#FDF3F4\",   colour_borders = \"black\",   colour_background = \"#FFFFFF\",   colour_text = \"black\",   scale_breaks = pretty_breaks(),   log_scale = FALSE )"},{"path":"https://infectious-diseases-data-observatory.github.io/worlddatr/reference/create_studies_map.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a cloropleth map of the number of trials in a dataset — create_studies_map","text":"data Data frame includes column 3 letter ISO country codes plotted map. country_col Character. name column containing 3 letter ISO country codes. include_ATA Boolean. Antarctica included map? Default FALSE. include_n Boolean. n = X X number participants, included map. Default TRUE. title Character. Title choropleth map. Default blank. subtitle Character. Subtitle choropleth map. Default blank. legend Character. Legend title choropleth map. Default 'Nuber Studies' colour_high Colour high end scale, either using name base colour HEX code, .e. \"red\" \"#F9250C. colour country highest value. Default IDDO-branded blue \"#14B1E7\". colour_low Colour low end scale, either using name base colour HEX code, .e. \"red\" \"#F9250C. colour country lowest value. Default IDDO branded blue 30% tint, \"#CCECF9\". colour_default Colour countries without trial data, either using name base colour HEX code, .e. \"red\" \"#F9250C. Default IDDO branded red 5% tint, \"#FDF3F4\". colour_borders Colour country borders, either using name base colour HEX code, .e. \"red\" \"#F9250C. Default \"black\". colour_background Colour plot background, either using name base colour HEX code, .e. \"red\" \"#F9250C\". Default \"#FFFFFF\" (white). colour_text Colour legend title, text 'n = ' (include_n == TRUE), either using name base colour HEX code, .e. \"red\" \"#F9250C\". Default black. scale_breaks Numeric list. Specify custom scale breaks legend, .e. c(100, 500, 1000, 2000). Default pretty_breaks scales package. log_scale Boolean. number trials transformed log scale distribution values uneven. Default FALSE.","code":""},{"path":"https://infectious-diseases-data-observatory.github.io/worlddatr/reference/create_studies_map.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a cloropleth map of the number of trials in a dataset — create_studies_map","text":"cloropleth map displaying number studies country","code":""},{"path":"https://infectious-diseases-data-observatory.github.io/worlddatr/reference/create_studies_map.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Create a cloropleth map of the number of trials in a dataset — create_studies_map","text":"Rhys Peploe","code":""},{"path":"https://infectious-diseases-data-observatory.github.io/worlddatr/reference/create_studies_map.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a cloropleth map of the number of trials in a dataset — create_studies_map","text":"","code":"#' library(worlddatr) set.seed(123) # for reproducibility  countries <- sample(world_income$alpha_3_code, 100, replace = FALSE)  probabilities <- runif(length(countries)) probabilities <- probabilities / sum(probabilities)  country_data <- data.frame(COUNTRY = sample(countries, 10000, replace = TRUE, prob = probabilities))  create_studies_map(data        = country_data,                    country_col = \"COUNTRY\",                    include_ATA = FALSE,                    include_n   = TRUE,                    title       = \"Number of Participants in Studies across Countries\",                    subtitle    = \"Data from studies registered between 2000 - 2024\",                    colour_high = \"#14B1E7\",                    colour_low  = \"#CCECF9\",                    colour_default = \"#FDF3F4\",                    colour_borders = \"black\",                    colour_background = \"#FFFFFF\",                    colour_text = \"black\",                    scale_breaks = c(25, 50, 100, 150, 175, 200),                    log_scale = FALSE )"},{"path":"https://infectious-diseases-data-observatory.github.io/worlddatr/reference/world_income.html","id":null,"dir":"Reference","previous_headings":"","what":"Country Codes and Income Groups of Countries and Territories — world_income","title":"Country Codes and Income Groups of Countries and Territories — world_income","text":"dataset containing row per country/territory information country/territory ISO codes income group defined World Bank.","code":""},{"path":"https://infectious-diseases-data-observatory.github.io/worlddatr/reference/world_income.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Country Codes and Income Groups of Countries and Territories — world_income","text":"","code":"world_income"},{"path":[]},{"path":"https://infectious-diseases-data-observatory.github.io/worlddatr/reference/world_income.html","id":"a-data-frame-with-rows-and-columns-","dir":"Reference","previous_headings":"","what":"A data frame with 250 rows and 5 columns:","title":"Country Codes and Income Groups of Countries and Territories — world_income","text":"alpha_3_code three digit ISO code country/territory alpha_2_code two digit ISO code country/territory numeric numeric ISO code country/territory country Name country territory economy Name country territory according World Bank data income_group Income classification country/territory redcap_number numeric value country/territory IDDO REDCap codebook. number file may REDCap, please ensure check using variable","code":""},{"path":"https://infectious-diseases-data-observatory.github.io/worlddatr/reference/world_income.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Country Codes and Income Groups of Countries and Territories — world_income","text":"Dates data accessed : World Bank: 11/11/2024 ISO:        18/06/2024 REDCap:     15/11/2024","code":""},{"path":"https://infectious-diseases-data-observatory.github.io/worlddatr/reference/world_map.html","id":null,"dir":"Reference","previous_headings":"","what":"Global Coordinates of Countries and Territories, with Country Codes and Income Group Data — world_map","title":"Global Coordinates of Countries and Territories, with Country Codes and Income Group Data — world_map","text":"dataset coordinate data perimeter country/territory world, along information country/territory ISO codes income group defined World Bank.","code":""},{"path":"https://infectious-diseases-data-observatory.github.io/worlddatr/reference/world_map.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Global Coordinates of Countries and Territories, with Country Codes and Income Group Data — world_map","text":"","code":"world_map"},{"path":[]},{"path":"https://infectious-diseases-data-observatory.github.io/worlddatr/reference/world_map.html","id":"a-data-frame-with-rows-and-columns-","dir":"Reference","previous_headings":"","what":"A data frame with 99,338 rows and 11 columns:","title":"Global Coordinates of Countries and Territories, with Country Codes and Income Group Data — world_map","text":"alpha_3_code three digit ISO code country/territory alpha_2_code two digit ISO code country/territory numeric Numeric ISO code country/territory long Longitude point lat Latitude point group Numerical identifer region order Sequence points within region region Name Country Territory subregion Name subregion, appropiate country Name country territory according ISO data economy Name country territory according World Bank data income_group Income classification country/territory redcap_number numeric value country/territory IDDO REDCap codebook centroid_long Longitude country/territory centre point/centroid centroid_lat Latitude country/territory centre point/centroid","code":""},{"path":"https://infectious-diseases-data-observatory.github.io/worlddatr/reference/world_map.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Global Coordinates of Countries and Territories, with Country Codes and Income Group Data — world_map","text":"Note region refers area points create perimeter . Dates data accessed : World Bank: 11/11/2024 ISO:        18/06/2024 REDCap:     15/11/2024 map_data:   18/11/2024 (ggplot2 v3.4.3)","code":""},{"path":"https://infectious-diseases-data-observatory.github.io/worlddatr/reference/worlddatr-package.html","id":null,"dir":"Reference","previous_headings":"","what":"worlddatr: A package for global spatial data analysis and choropleth maps — worlddatr-package","title":"worlddatr: A package for global spatial data analysis and choropleth maps — worlddatr-package","text":"Data functions working country territory data including ISO codes, World Bank income groups, longitude latitude.","code":""},{"path":[]},{"path":"https://infectious-diseases-data-observatory.github.io/worlddatr/reference/worlddatr-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"worlddatr: A package for global spatial data analysis and choropleth maps — worlddatr-package","text":"Maintainer: Rhys Peploe rhys.peploe@iddo.org (ORCID)","code":""}]
